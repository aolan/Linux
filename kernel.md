# 第一天

### 一、Linux操作系统的诞生依赖：

* UNIX操作系统
* MINIX操作系统
* GNU计划
* POSIX标准
* Internet网络

### 二、Linux内核体系结构

* 操作系统 = 硬件 + 操作系统内核 + 操作系统服务 + 用户应用程序

####  1、Linux内核模式： 整体式的单内核模式 + 层次式的微内核模式， 
* Linux 0.11采用的是单内核模式，优点在于内核代码结构紧凑、执行速度快、不足之处主要是层次结构不强。
* 在单内核模式下：应用主程序使用指定的参数值执行系统调用指令(int x80)，使CPU从用户态切换到核心态，然后操作系统根据具体的参数值调用特定的系统调用服务程序，而这些服务程序则根据需要调用底层的一些支持函数以完成特定的功能。在完成了应用程序所要求的服务后，操作系统又从核心态切换回用户态，返回到应用程序中继续执行后面的指令。
* 单核模式分层：主程序、系统服务、底层支持函数

#### 2、Linux内核系统体系结构(由5个模块组成)

* 进程调度模块：控制进程对CPU的使用
* 内存管理模块：确保所有进程能够安全的共享机器主内存区，同时还支持虚拟内存管理方式、利用文件系统把暂时不用的内存数据库交换到外部设备上去
* 文件系统模块：支持外部设备的驱动和存储
* 进程间通信模块：支持多种进程间的信息交互方式
* 网络接口模块：提供对多种网络通信标准的访问并支持许多网络硬件

![内核结构图](resources/kernel_struct.png)



### 三、中断机制

* 中断信号分为两类：硬件中断、软件中断
* 每个中断是由0-255之间的一个数字来标识。

### 四、系统定时

* 在Linux0.11内核中，PC几的可编程定时芯片Intel 8253被设置为10ms发出一次时钟中断（IRQ0）信号。
* 这个时间节拍就是系统运行的脉搏，称之为1个系统滴答，用jiffies变量累计自系统启动以来经过的时钟滴答数。

### 五、Linux进程控制

* 程序是可执行文件，而进程是一个执行中的程序实例。
* 分时技术的原理是将CPU运行时间划分为一个个规定长度的时间片，让每个进程在一个时间片内运行。每个时间片的时间很短（例如15个系统滴答==150毫秒）
* Linux 0.11内核最多可以有64个进程同时存在。
* 进程 = 可执行代码 + 数据 + 堆栈区
* 进程可以在内核态和用户态下执行，内核堆栈和用户堆栈是分开的。

#### 5.1 任务数据结构

* 内核程序通过进程表对进程进行管理，每个进程在表中占有一项
* 进程表项是一个task_struct任务结构指针，该结构定义在`include/linux/sched.h`头文件中，可以称之为进程控制块PCB或者进程描述符PD。其中保存了用于控制和管理进程的所有信息。



